{% extends 'base.html' %}

{% block title %}Edit Listing - The Helping Hand{% endblock %}

{% block content %}
<div class="container">
    <div class="form-container" style="max-width: 600px;">
        <h2>✏️ Edit Listing</h2>
        <form method="POST" action="{{ url_for('edit_listing', id=listing.id) }}">
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" id="title" name="title" required value="{{ listing.title }}">
            </div>
            <div class="form-group">
                <label for="category">Category</label>
                <select id="category" name="category" required>
                    <option value="Skills & Services" {% if listing.category == 'Skills & Services' %}selected{% endif %}>Skills & Services</option>
                    <option value="Items & Resources" {% if listing.category == 'Items & Resources' %}selected{% endif %}>Items & Resources</option>
                </select>
            </div>
            <div class="form-group">
                <label for="listing_type">Type</label>
                <select id="listing_type" name="listing_type" required>
                    <option value="Offering" {% if listing.listing_type == 'Offering' %}selected{% endif %}>Offering</option>
                    <option value="Requesting" {% if listing.listing_type == 'Requesting' %}selected{% endif %}>Requesting</option>
                </select>
            </div>
            <div class="form-group">
                <label for="description">Description</label>
                <textarea id="description" name="description" required>{{ listing.description }}</textarea>
            </div>
            <div class="form-group">
                <label for="location">Location (Optional)</label>
                <input type="text" id="location" name="location" value="{{ listing.location or '' }}">
            </div>
            <div class="form-group">
                <label for="tags">Tags (Optional)</label>
                <input type="text" id="tags" name="tags" value="{{ listing.tags or '' }}">
            </div>
            <div style="display: flex; gap: 1rem;">
                <button type="submit" class="btn btn-primary" style="flex: 1;">Save Changes</button>
                <a href="{{ url_for('listing_detail', id=listing.id) }}" class="btn btn-secondary" style="flex: 1; text-align: center;">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}